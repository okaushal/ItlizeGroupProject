
@{
    ViewBag.Title = "Search";
}
<link href="~/Content/jquery-ui.min.css" rel="stylesheet" />

<h2>Search</h2>
<div>@Html.Partial("_Search")</div>
<p></p>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
            integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
            crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $("#textBox").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: '@Url.Action("GetSubcats", "Search")',
                        dataType: 'json',
                        data: {
                            term: request.term,
                            categoryName: $("#category").val()
                        },
                        success: function (data) {
                            response($.map(data, function (item) {
                                return item;
                            }))
                        }
                    })
                }
            })
        })
    </script>
}